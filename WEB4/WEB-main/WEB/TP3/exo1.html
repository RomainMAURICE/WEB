<!DOCTYPE html>
<!-- saved from url=(0073)https://monge.univ-mlv.fr/ens/IR/IR1/2022-2023/ProgWeb/src/td03/exo1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
   <script>
     "use strict";
      

    function refresh(clock) {
      let canvas = document.getElementById("clock");
      let context = canvas.getContext("2d");
      let radius = (Math.min(canvas.width, canvas.height) / 2) * 0.8;

      context.clearRect(0,0,canvas.width, canvas.height)

      context.strokeStyle ="lightblue";
      context.lineWidth = 3;
      context.beginPath();
      context.arc(canvas.width/2,canvas.height/2,radius,0,Math.PI *2 );
      context.stroke();

      const date = new Date();

      let x = (canvas.width/2)  + ( radius * ( Math.cos(Math.PI * ((date.getSeconds() - 15) / 30) ) ));
      let y = (canvas.height/2) + ( radius * ( Math.sin(Math.PI * ((date.getSeconds() - 15) / 30) ) ));

      let x2 = (canvas.width/2)  + ( radius*0.9 * ( Math.cos(Math.PI * ((date.getMinutes() - 15) / 30) ) ));
      let y2 = (canvas.height/2) + ( radius*0.9 * ( Math.sin(Math.PI * ((date.getMinutes() - 15) / 30) ) ));

      let x3 = (canvas.width/2)  + ( radius*0.8 * ( Math.cos(Math.PI * ((date.getHours() - 15) / 30) ) ));
      let y3 = (canvas.height/2) + ( radius*0.8 * ( Math.sin(Math.PI * ((date.getHours() - 15) / 30) ) ));

      context.strokeStyle ="red";
      context.lineWidth = 4;
      context.beginPath();
      context.moveTo(canvas.width/2,canvas.height/2)
      context.lineTo(x,y);
      context.stroke();

      context.strokeStyle ="black";
      context.lineWidth = 4;
      context.beginPath();
      context.moveTo(canvas.width/2,canvas.height/2)
      context.lineTo(x2,y2);
      context.stroke();      

      context.strokeStyle ="black";
      context.lineWidth = 5;
      context.beginPath();
      context.moveTo(canvas.width/2,canvas.height/2)
      context.lineTo(x3,y3);
      context.stroke();

      let i;
      for (i=0; i<12*5 ; i=i+5){
        let x4 = (canvas.width/2)  + ( radius*0.97 * ( Math.cos(Math.PI * ((i - 15) / 30) ) ));
        let y4 = (canvas.height/2) + ( radius*0.97 * ( Math.sin(Math.PI * ((i - 15) / 30) ) ));

        let x5 = (canvas.width/2)  + ( radius * ( Math.cos(Math.PI * ((i - 15) / 30) ) ));
        let y5 = (canvas.height/2) + ( radius * ( Math.sin(Math.PI * ((i - 15) / 30) ) ));

        context.strokeStyle ="darkblue";
        context.lineWidth = 3;
        context.beginPath();
        context.moveTo(x4,y4)
        context.lineTo(x5,y5);
        context.stroke();
      }

    }

    window.onload = (loaded) => {

      window.setInterval(refresh, 1000);

    };
   </script>
 </head>

 
 <body>
  <h2>Oh, ma belle horloge !</h2>
  <canvas id="clock" style="background-color: light;" width="800" height="800">
  </canvas>
 

</body></html>